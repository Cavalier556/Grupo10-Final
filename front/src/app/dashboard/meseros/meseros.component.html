<header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
  <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3" href="#">Tagliatore</a>
  <button
    class="navbar-toggler position-absolute d-md-none collapsed"
    type="button"
    data-bs-toggle="collapse"
    data-bs-target="#sidebarMenu"
    aria-controls="sidebarMenu"
    aria-expanded="false"
    aria-label="Toggle navigation"
  >
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="navbar-nav">
    <div class="nav-item text-nowrap">
      <a class="nav-link px-3" href="#">Cerrar Sesión</a>
    </div>
  </div>
</header>

<div class="container-fluid">
  <div class="row">
    <nav
      id="sidebarMenu"
      class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse"
    >
      <div class="position-sticky pt-3">
        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link active" href="/dashboard">
              <span data-feather="home"></span>
              Dashboard
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/dashboard/ordenes">
              <span data-feather="file"></span>
              Ordenes
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/dashboard/productos">
              <span data-feather="shopping-cart"></span>
              Productos
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              href="/dashboard/categorias"
              aria-current="page"
            >
              <span data-feather="users"></span>
              Categorias
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/dashboard/meseros">
              <span data-feather="bar-chart-2"></span>
              Meseros
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/dashboard/clientes">
              <span data-feather="layers"></span>
              Clientes
            </a>
          </li>
        </ul>
      </div>
    </nav>

    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
      <div
        class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
      >
        <h1 class="h2">Meseros</h1>
      </div>

      <div class="card card-body bg-light shadow-sm">
        <h4>Agregar Nuevo</h4>
        <form [formGroup]="newForm" (ngSubmit)="agregar()">
          <label class="form-label">Nombre</label>
          <input type="text" class="form-control" formControlName="nombre" />
          <label class="form-label mt-2">Apellido</label>
          <input type="text" class="form-control" formControlName="apellido" />
          <label class="form-label mt-2">Usuario</label>
          <input type="text" class="form-control" formControlName="usuario" />
          <label class="form-label mt-2">Contraseña</label>
          <input
            type="password"
            class="form-control"
            formControlName="password"
          />
          <label class="form-label mt-2">Dni</label>
          <input type="text" class="form-control" formControlName="dni" />
          <button type="sumbit" class="btn btn-primary mt-4">Nuevo</button>
        </form>
      </div>

      <div class="table-responsive mt-4">
        <table class="table table-striped table-sm">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Nombre</th>
              <th scope="col">Apellido</th>
              <th scope="col">Usuario</th>
              <th scope="col">DNI</th>
              <th scope="col">Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let row of data; index as i">
              <td>{{ i + 1 }}</td>
              <td>{{ row.nombre }}</td>
              <td>{{ row.apellido }}</td>
              <td>{{ row.usuario }}</td>
              <td>{{ row.dni }}</td>
              <td>
                <button class="btn btn-info" (click)="onEdit(row)">
                  Editar
                </button>
                <button class="btn btn-danger ms-2" (click)="onDelete(row._id)">
                  Borrar
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </main>
  </div>

  <div class="modal" id="editModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5>Editando</h5>
        </div>
        <div class="modal-body">
          <form [formGroup]="editForm" (ngSubmit)="editar()">
            <label class="form-label">Id</label>
            <input
              readonly
              id="editId"
              type="text"
              class="form-control"
              formControlName="editId"
            />
            <label class="form-label">Nombre</label>
            <input
              id="editNombre"
              type="text"
              class="form-control"
              formControlName="editNombre"
            />
            <label class="form-label mt-2">Apellido</label>
            <input
              type="text"
              class="form-control"
              formControlName="editApellido"
              id="editApellido"
            />
            <label class="form-label mt-2">Usuario</label>
            <input
              type="text"
              class="form-control"
              formControlName="editUsuario"
              id="editUsuario"
            />
            <label class="form-label mt-2">DNI</label>
            <input
              type="text"
              class="form-control"
              formControlName="editDni"
              id="editDni"
            />
            <button type="sumbit" class="btn btn-primary mt-4">
              Actualizar
            </button>
          </form>
        </div>
        <div class="modal-footer">
          <button class="btn btn-danger" (click)="closeModal()">Cerrar</button>
        </div>
      </div>
    </div>
  </div>
</div>
